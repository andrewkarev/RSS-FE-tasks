!function(){"use strict";var e,t={551:function(e,t,s){var r=[{brand:"Apple",model:"iPhone SE",year:2022,color:"white",storage:64,price:499,popular:!1,quantity:7,img:"./assets/images/cards/1.png",serialNum:"1"},{brand:"Apple",model:"iPhone 11",year:2019,color:"yellow",storage:64,price:499,popular:!1,quantity:3,img:"./assets/images/cards/2.png",serialNum:"2"},{brand:"Apple",model:"iPhone 13",year:2021,color:"red",storage:256,price:899,popular:!0,quantity:11,img:"./assets/images/cards/3.png",serialNum:"3"},{brand:"Apple",model:"iPhone 11",year:2019,color:"white",storage:128,price:599,popular:!1,quantity:4,img:"./assets/images/cards/4.png",serialNum:"4"},{brand:"Apple",model:"iPhone 11",year:2019,color:"green",storage:256,price:699,popular:!0,quantity:13,img:"./assets/images/cards/5.jpg",serialNum:"5"},{brand:"Apple",model:"iPhone 13",year:2021,color:"blue",storage:256,price:899,popular:!0,quantity:15,img:"./assets/images/cards/6.jpg",serialNum:"6"},{brand:"Apple",model:"iPhone 13 Pro",year:2021,color:"white",storage:256,price:999,popular:!0,quantity:9,img:"./assets/images/cards/7.jpg",serialNum:"7"},{brand:"Apple",model:"iPhone 13 Pro Max",year:2021,color:"blue",storage:256,price:1199,popular:!0,quantity:2,img:"./assets/images/cards/8.jpg",serialNum:"8"},{brand:"Apple",model:"iPhone 13 Pro Max",year:2021,color:"yellow",storage:128,price:1099,popular:!1,quantity:1,img:"./assets/images/cards/9.jpg",serialNum:"9"},{brand:"Apple",model:"iPhone 11",year:2019,color:"blue",storage:64,price:499,popular:!1,quantity:6,img:"./assets/images/cards/10.jpg",serialNum:"10"},{brand:"Apple",model:"iPhone 13 Pro Max",year:2022,color:"green",storage:256,price:1299,popular:!0,quantity:14,img:"./assets/images/cards/11.jpg",serialNum:"11"},{brand:"Xiaomi",model:"Redmi 9C",year:2020,color:"red",storage:32,price:199,popular:!1,quantity:19,img:"./assets/images/cards/12.png",serialNum:"12"},{brand:"Xiaomi",model:"Redmi 10",year:2021,color:"white",storage:128,price:299,popular:!0,quantity:18,img:"./assets/images/cards/13.png",serialNum:"13"},{brand:"Xiaomi",model:"POCO M4 Pro",year:2022,color:"yellow",storage:256,price:399,popular:!0,quantity:3,img:"./assets/images/cards/14.png",serialNum:"14"},{brand:"Xiaomi",model:"Redmi Note 10",year:2021,color:"blue",storage:128,price:359,popular:!0,quantity:1,img:"./assets/images/cards/15.jpg",serialNum:"15"},{brand:"Xiaomi",model:"Mi 11 Lite",year:2021,color:"red",storage:128,price:599,popular:!0,quantity:7,img:"./assets/images/cards/16.jpg",serialNum:"16"},{brand:"Xiaomi",model:"Mi 11 Lite",year:2021,color:"green",storage:64,price:499,popular:!1,quantity:4,img:"./assets/images/cards/17.jpg",serialNum:"17"},{brand:"Xiaomi",model:"Mi 11 Lite",year:2021,color:"white",storage:64,price:499,popular:!1,quantity:19,img:"./assets/images/cards/18.jpg",serialNum:"18"},{brand:"Xiaomi",model:"POCO F4 GT",year:2022,color:"yellow",storage:128,price:799,popular:!0,quantity:15,img:"./assets/images/cards/19.png",serialNum:"19"},{brand:"Xiaomi",model:"Redmi Note 11",year:2022,color:"black",storage:128,price:359,popular:!1,quantity:8,img:"./assets/images/cards/20.jpg",serialNum:"20"},{brand:"Samsung",model:"Galaxy S21 FE",year:2022,color:"green",storage:256,price:799,popular:!0,quantity:10,img:"./assets/images/cards/21.jpg",serialNum:"21"},{brand:"Samsung",model:"Galaxy S21 FE",year:2022,color:"black",storage:128,price:699,popular:!1,quantity:11,img:"./assets/images/cards/22.jpg",serialNum:"22"},{brand:"Samsung",model:"Galaxy A32",year:2021,color:"blue",storage:64,price:299,popular:!1,quantity:6,img:"./assets/images/cards/23.jpg",serialNum:"23"},{brand:"Samsung",model:"Galaxy A32",year:2021,color:"white",storage:128,price:399,popular:!0,quantity:17,img:"./assets/images/cards/24.jpg",serialNum:"24"},{brand:"Samsung",model:"Galaxy A03",year:2021,color:"black",storage:32,price:129,popular:!1,quantity:14,img:"./assets/images/cards/25.jpg",serialNum:"25"},{brand:"Samsung",model:"Galaxy A03",year:2021,color:"red",storage:32,price:129,popular:!1,quantity:9,img:"./assets/images/cards/26.jpg",serialNum:"26"},{brand:"Samsung",model:"Galaxy M32",year:2021,color:"white",storage:128,price:499,popular:!0,quantity:12,img:"./assets/images/cards/27.jpg",serialNum:"27"},{brand:"Samsung",model:"Galaxy M32",year:2021,color:"black",storage:128,price:499,popular:!1,quantity:4,img:"./assets/images/cards/28.jpg",serialNum:"28"},{brand:"Samsung",model:"Galaxy M12",year:2021,color:"blue",storage:32,price:229,popular:!1,quantity:7,img:"./assets/images/cards/29.jpg",serialNum:"29"},{brand:"Samsung",model:"Galaxy A12",year:2021,color:"red",storage:64,price:229,popular:!1,quantity:11,img:"./assets/images/cards/30.jpg",serialNum:"30"},{brand:"Samsung",model:"Galaxy A52",year:2021,color:"blue",storage:256,price:399,popular:!0,quantity:8,img:"./assets/images/cards/31.jpg",serialNum:"31"}],a=(e,t,s,r,...a)=>{const i=document.createElement(e);return t&&(Array.isArray(t)?t.forEach((e=>i.classList.add(e))):"string"==typeof t&&i.classList.add(`${t}`)),s&&(Array.isArray(s)?s.forEach((e=>i.append(e))):"object"==typeof s?i.append(s):"string"==typeof s&&(i.innerHTML=s)),a&&a.forEach((([e,t])=>{t&&(e.match(/serialNum|sortId|brand|color|storage|popular/)?i.dataset[e]=`${t}`:i.setAttribute(e,`${t}`)),t||i.setAttribute(e,"")})),r&&r.append(i),i};function i(e,t){window.localStorage.setItem(e,JSON.stringify(t))}function n(e,t){const s=window.localStorage.getItem(e);return JSON.parse(s||t)}function o(e){localStorage.removeItem(e)}var l=[{classes:["sorting__option","sorting__option--name-ascending"],content:"name A-Z",sortID:"ascending"},{classes:["sorting__option","sorting__option--name-descending"],content:"name Z-A",sortID:"descending"},{classes:["sorting__option","sorting__option--release-newwest"],content:"release year (newest first)",sortID:"newest"},{classes:["sorting__option","sorting__option--release-oldest"],content:"release year (oldest first)",sortID:"oldest"},{classes:["sorting__option","sorting__option--quantity-most"],content:"quantity in stock (most)",sortID:"most"},{classes:["sorting__option","sorting__option--quantity-least"],content:"quantity in stock (least)",sortID:"least"}];class c{constructor({brand:e,model:t,year:s,color:r,storage:a,price:i,popular:n,quantity:o,img:l,serialNum:c}){this.brand=e,this.model=t,this.year=s,this.color=r,this.storage=a,this.price=i,this.popular=n,this.quantity=o,this.img=l,this.serialNum=c}create(){const e=n("savedItems","[]"),t=n("shoppingCart","[]"),s=e.includes(this.serialNum),r=t.includes(this.serialNum),i=`\n      <h2 class="goods__title">${this.model}</h2>\n      <figure class="goods__item">\n        <img class="goods__img" src="${this.img}" alt="${this.model}">\n        <figcaption class="goods__caption">\n          ${this.brand} / ${this.year} / ${this.color} / ${this.storage}GB<br>\n          $${this.price} / ${this.popular?"popular":"not so popular"} / ${this.quantity} in stock\n        </figcaption>\n      </figure>\n      <div class="btn-container">\n        <button class=" goods__save-button button ${s?"checked":""}" type="button">${s?"✔":"Save"}</button>\n        <button class="goods__buy-button button ${r?"checked":""}" type="button">${r?"✔":"Buy"}</button>\n      </div>`;this.div=a("div","goods__card",i,void 0,["serialNum",+this.serialNum])}}var d=class{},u=class extends d{},h={name:"brand",parentNodeName:".filters__item--brand",classNames:["filters__brand","button"],attributes:["type","button"],pointer:"&#9632;",elements:["Samsung","Apple","Xiaomi"]},p={name:"color",parentNodeName:".filters__color-container",classNames:["filters__color","button","filters__color--white","filters__color--yellow","filters__color--red","filters__color--green","filters__color--blue","filters__color--black"],attributes:["type","button"],elements:["white","yellow","red","green","blue","black"]},g={name:"storage",parentNodeName:".filters__item--storage-memory",classNames:["filters__storage-memory","button"],attributes:["type","button"],pointer:"&#9632;",elements:["32","64","128","256"]},m={name:"popular",parentNodeName:".filters__item--popularity",classNames:["filters__popularity","button"],attributes:["type","button"],pointer:"&#9632;",elements:["Best sellers only"]},v=class extends u{generateFilter(e){const t=h;this.container=document.querySelector(t.parentNodeName),this.relevantValue=e,t.elements.forEach((s=>{const r=[...t.classNames];e.includes(s)&&r.push("checked"),a("button",r,`${t.pointer} ${s}`,this.container,[t.attributes[0],t.attributes[1]],[t.name,s])}))}handleClick(e){var t,s,r;const a=e.target;if(a&&a instanceof HTMLButtonElement){const e=a.dataset.brand;let n=!1;e&&(n=!!(null===(t=this.relevantValue)||void 0===t?void 0:t.includes(e))),e&&!n&&(null===(s=this.relevantValue)||void 0===s||s.push(e)),e&&n&&(this.relevantValue=null===(r=this.relevantValue)||void 0===r?void 0:r.filter((t=>t!==e))),a.classList.toggle("checked"),i("brandFilter",this.relevantValue)}}filterData(e){var t;let s=e;return(null===(t=this.relevantValue)||void 0===t?void 0:t.length)&&(s=e.filter((e=>{var t;return null===(t=this.relevantValue)||void 0===t?void 0:t.includes(e.brand)}))),s}reset(){var e;const t=null===(e=this.container)||void 0===e?void 0:e.querySelectorAll(".filters__brand");null==t||t.forEach((e=>e.classList.remove("checked"))),this.relevantValue=n("brandFilter","[]")}},y=class extends u{generateFilter(e){const t=p;this.container=document.querySelector(t.parentNodeName),this.relevantValue=e,t.elements.forEach(((s,r)=>{const i=t.classNames.slice(0,2);i.push(t.classNames[r+2]),e.includes(s)&&i.push("checked"),a("button",i,void 0,this.container,[t.attributes[0],t.attributes[1]],[t.name,s])}))}handleClick(e){var t,s,r;const a=e.target;if(a&&a instanceof HTMLButtonElement){const e=a.dataset.color;let n=!1;e&&(n=!!(null===(t=this.relevantValue)||void 0===t?void 0:t.includes(e))),e&&!n&&(null===(s=this.relevantValue)||void 0===s||s.push(e)),e&&n&&(this.relevantValue=null===(r=this.relevantValue)||void 0===r?void 0:r.filter((t=>t!==e))),a.classList.toggle("checked"),i("colorFilter",this.relevantValue)}}filterData(e){var t;let s=e;return(null===(t=this.relevantValue)||void 0===t?void 0:t.length)&&(s=e.filter((e=>{var t;return null===(t=this.relevantValue)||void 0===t?void 0:t.includes(e.color)}))),s}reset(){var e;const t=null===(e=this.container)||void 0===e?void 0:e.querySelectorAll(".filters__color");null==t||t.forEach((e=>e.classList.remove("checked"))),this.relevantValue=n("colorFilter","[]")}},f=class extends u{generateFilter(e){const t=g;this.container=document.querySelector(t.parentNodeName),this.relevantValue=e,t.elements.forEach((s=>{const r=[...t.classNames];e.includes(s)&&r.push("checked"),a("button",r,`${t.pointer} ${s} GB`,this.container,[t.attributes[0],t.attributes[1]],[t.name,s])}))}handleClick(e){var t,s,r;const a=e.target;if(a&&a instanceof HTMLButtonElement){const e=a.dataset.storage;let n=!1;e&&(n=!!(null===(t=this.relevantValue)||void 0===t?void 0:t.includes(e))),e&&!n&&(null===(s=this.relevantValue)||void 0===s||s.push(e)),e&&n&&(this.relevantValue=null===(r=this.relevantValue)||void 0===r?void 0:r.filter((t=>t!==e))),a.classList.toggle("checked"),i("storageFilter",this.relevantValue)}}filterData(e){var t;let s=e;return(null===(t=this.relevantValue)||void 0===t?void 0:t.length)&&(s=e.filter((e=>{var t;return null===(t=this.relevantValue)||void 0===t?void 0:t.includes(`${e.storage}`)}))),s}reset(){var e;const t=null===(e=this.container)||void 0===e?void 0:e.querySelectorAll(".filters__storage-memory");null==t||t.forEach((e=>e.classList.remove("checked"))),this.relevantValue=n("storageFilter","[]")}},b=class extends u{generateFilter(e){const t=m;this.container=document.querySelector(t.parentNodeName),this.relevantValue=e,t.elements.forEach((e=>{var s;const r=[...t.classNames];(null===(s=this.relevantValue)||void 0===s?void 0:s.length)&&r.push("checked"),a("button",r,`${t.pointer} ${e}`,this.container,[t.attributes[0],t.attributes[1]],[t.name,"true"])}))}handleClick(e){var t,s;const r=e.target;r&&r instanceof HTMLButtonElement&&(r.classList.contains("checked")?null===(t=this.relevantValue)||void 0===t||t.pop():null===(s=this.relevantValue)||void 0===s||s.push("popular"),r.classList.toggle("checked"),i("popularityFilter",this.relevantValue))}filterData(e){var t;let s=e;return(null===(t=this.relevantValue)||void 0===t?void 0:t.length)&&(s=e.filter((e=>e.popular))),s}reset(){var e;const t=null===(e=this.container)||void 0===e?void 0:e.querySelectorAll(".filters__popularity");null==t||t.forEach((e=>e.classList.remove("checked"))),this.relevantValue=n("popularityFilter","[]")}},_=s(344),S=class extends d{},F=class extends S{generateFilter([e,t]){this.yearSlider=document.getElementById("year-slider"),this.relevantValue=[e,t],this.yearSlider&&_.create(this.yearSlider,{start:[e,t],step:1,tooltips:!0,behaviour:"drag",connect:!0,range:{min:2019,max:2022},format:{from:e=>parseInt(e,10),to:e=>Number(e).toFixed()}})}handleDrag(){var e,t;const s=null===(t=null===(e=this.yearSlider)||void 0===e?void 0:e.noUiSlider)||void 0===t?void 0:t.get();this.relevantValue=s,i("yearFilter",this.relevantValue)}filterData(e){let t,s,r=e;return this.relevantValue&&(t=Number(this.relevantValue[0]),s=Number(this.relevantValue[1])),r=e.filter((e=>e.year>=t&&e.year<=s)),r}reset(){var e,t;this.relevantValue=n("yearFilter",'["2019", "2022"]'),null===(t=null===(e=this.yearSlider)||void 0===e?void 0:e.noUiSlider)||void 0===t||t.set(this.relevantValue)}},C=class extends S{generateFilter([e,t]){this.priceSlider=document.getElementById("price-slider"),this.relevantValue=[e,t],this.priceSlider&&_.create(this.priceSlider,{start:[e,t],step:1,tooltips:!0,behaviour:"drag",connect:!0,range:{min:1,max:1299},format:{from:e=>parseInt(e,10),to:e=>`${Number(e).toFixed()} $`}})}handleDrag(){var e,t;const s=null===(t=null===(e=this.priceSlider)||void 0===e?void 0:e.noUiSlider)||void 0===t?void 0:t.get();this.relevantValue=s,i("priceFilter",this.relevantValue)}filterData(e){let t,s,r=e;return this.relevantValue&&(t=parseInt(this.relevantValue[0],10),s=parseInt(this.relevantValue[1],10)),r=e.filter((e=>e.price>=t&&e.price<=s)),r}reset(){var e,t;this.relevantValue=n("priceFilter",'["1", "1299"]'),null===(t=null===(e=this.priceSlider)||void 0===e?void 0:e.noUiSlider)||void 0===t||t.set(this.relevantValue)}},q=class extends S{generateFilter([e,t]){this.quantitySlider=document.getElementById("quantity-slider"),this.relevantValue=[e,t],this.quantitySlider&&_.create(this.quantitySlider,{start:[e,t],step:1,tooltips:!0,behaviour:"drag",connect:!0,range:{min:1,max:19},format:{from:e=>parseInt(e,10),to:e=>Number(e).toFixed()}})}handleDrag(){var e,t;const s=null===(t=null===(e=this.quantitySlider)||void 0===e?void 0:e.noUiSlider)||void 0===t?void 0:t.get();this.relevantValue=s,i("quantityFilter",this.relevantValue)}filterData(e){let t,s,r=e;return this.relevantValue&&(t=parseInt(this.relevantValue[0],10),s=parseInt(this.relevantValue[1],10)),r=e.filter((e=>e.quantity>=t&&e.quantity<=s)),r}reset(){var e,t;this.relevantValue=n("quantityFilter",'["1", "19"]'),null===(t=null===(e=this.quantitySlider)||void 0===e?void 0:e.noUiSlider)||void 0===t||t.set(this.relevantValue)}},N=["sortingOption","savedItems","shoppingCart","brandFilter","colorFilter","storageFilter","popularityFilter","yearFilter","priceFilter","searchFieldValue","quantityFilter"];const k=n("sortingOption",'"ascending"'),V=n("searchFieldValue",'""'),L=n("brandFilter","[]"),E=n("colorFilter","[]"),w=n("storageFilter","[]"),I=n("popularityFilter","[]"),A=n("yearFilter",'["2019", "2022"]'),x=n("priceFilter",'["1", "1299"]'),G=n("quantityFilter",'["1", "19"]'),O={savedCards:n("savedItems","[]"),cardsInCart:n("shoppingCart","[]")};(new class{constructor(){this.cards=new class{generateCards(e){var t;this.cardsContainer||(this.cardsContainer=document.querySelector(".goods")),this.cardsContainer.innerHTML="",e.forEach((e=>{var t;const s=new c(e);s.create(),s.div&&(null===(t=this.cardsContainer)||void 0===t||t.appendChild(s.div))})),(null===(t=this.cardsContainer)||void 0===t?void 0:t.children.length)||(this.cardsContainer.innerHTML="<h2>Sorry, no matches found ¯\\_(ツ)_/¯</h2>")}},this.sorting=new class{generateSorting(e){this.sortingContainer=document.querySelector(".sorting"),a("h2","sorting__title","Sort by:",this.sortingContainer),this.sortingOrder=e,l.forEach((e=>{const t=[...e.classes];e.sortID===this.sortingOrder&&t.push("active"),a("div",t,e.content,this.sortingContainer,["sortId",e.sortID])}))}handleSortingClick(e){var t,s;this.sortingOptions||(this.sortingOptions=null===(t=this.sortingContainer)||void 0===t?void 0:t.querySelectorAll(".sorting__option"));const r=e.target;if(r instanceof HTMLElement&&r.classList.contains("sorting__option")&&r.dataset.sortId){const e=r.dataset.sortId;this.sortingOrder=e,null===(s=this.sortingOptions)||void 0===s||s.forEach((e=>e.classList.remove("active"))),r.classList.add("active"),i("sortingOption",e)}}sortGoods(e){return"oldest"===this.sortingOrder&&e.sort(((e,t)=>e.year-t.year)),"newest"===this.sortingOrder&&e.sort(((e,t)=>t.year-e.year)),"most"===this.sortingOrder&&e.sort(((e,t)=>t.quantity-e.quantity)),"least"===this.sortingOrder&&e.sort(((e,t)=>e.quantity-t.quantity)),"ascending"===this.sortingOrder&&e.sort(((e,t)=>{const s=e.model.toLowerCase(),r=t.model.toLowerCase();return s<r?-1:s>r?1:0})),"descending"===this.sortingOrder&&e.sort(((e,t)=>{const s=e.model.toLowerCase(),r=t.model.toLowerCase();return s>r?-1:s<r?1:0})),e}},this.navMenu=new class{constructor(){this.savedItemsStorage=[],this.shoppingCartStorage=[],this.popup=new class{initPopupElement(){this.parentElement||(this.parentElement=document.querySelector("body")),this.popupElement=a("div","popup",'\n    <div class="popup__content">\n      <h1 class="popup__title">Sorry.</h1>\n      <h2 class="popup__subtitle">But there are no free slots left in the cart :(</h2>\n      <button class="popup__reset-btn reset-btn" type="reset">\n        <div class="reset-btn__line reset-btn__line-1 popup__reset-btn--line"></div>\n        <div class="reset-btn__line reset-btn__line-2 popup__reset-btn--line"></div>\n      </button>\n    </div>\n    '),this.popupElement.addEventListener("click",(()=>{var e,t;null===(e=this.parentElement)||void 0===e||e.classList.remove("lock"),null===(t=this.popupElement)||void 0===t||t.remove()}))}displayPopup(){var e,t;null===(e=this.parentElement)||void 0===e||e.classList.add("lock"),this.popupElement&&(null===(t=this.parentElement)||void 0===t||t.append(this.popupElement))}}}initMenu({savedCards:e,cardsInCart:t}){this.savedItems=document.querySelector(".header__nav-counter--saved-items"),this.shoppingCart=document.querySelector(".header__nav-counter--bag"),this.savedItemsStorage=e,this.shoppingCartStorage=t,this.savedItems.textContent=`${this.savedItemsStorage.length}`,this.shoppingCart.textContent=`${this.shoppingCartStorage.length}`,this.popup.initPopupElement(),this.savedItemsStorage.length>0&&this.savedItems.classList.add("active"),this.shoppingCartStorage.length>0&&this.shoppingCart.classList.add("active")}handleCardClick(e){const t=e.target;let s=null,r=!1,a="";t instanceof HTMLElement&&(s=t.closest(".goods__card"),r=t.classList.contains("goods__save-button")),s&&(null==s?void 0:s.dataset.serialNum)&&(a=null==s?void 0:s.dataset.serialNum),s&&!r&&this.handleAccordingToButtonType(s,r,".goods__buy-button",a),s&&r&&this.handleAccordingToButtonType(s,r,".goods__save-button",a)}handleAccordingToButtonType(e,t,s,r){const a=e.querySelector(s);let i=0;t||(i=this.shoppingCartStorage.length),!t&&i<20&&a&&(a.classList.contains("checked")?this.changeCardState(a,t,"decrease",r):this.changeCardState(a,t,"increase",r)),!t&&i>=20&&a&&!a.classList.contains("checked")&&this.popup.displayPopup(),!t&&i>=20&&a&&a.classList.contains("checked")&&this.changeCardState(a,t,"decrease",r),t&&a&&(a.classList.contains("checked")?this.changeCardState(a,t,"decrease",r):this.changeCardState(a,t,"increase",r))}changeCardState(e,t,s,r){var a,n,o,l;const c=e;e.classList.toggle("checked"),t&&("decrease"===s&&(c.textContent="Save",this.savedItemsStorage=this.savedItemsStorage.filter((e=>e!==r))),"increase"===s&&(c.textContent="✔",this.savedItemsStorage.push(r)),this.savedItems&&(this.savedItems.textContent=`${this.savedItemsStorage.length}`),this.savedItemsStorage.length>0?null===(a=this.savedItems)||void 0===a||a.classList.add("active"):null===(n=this.savedItems)||void 0===n||n.classList.remove("active"),i("savedItems",this.savedItemsStorage)),t||("decrease"===s&&(c.textContent="Buy",this.shoppingCartStorage=this.shoppingCartStorage.filter((e=>e!==r))),"increase"===s&&(c.textContent="✔",this.shoppingCartStorage.push(r)),this.shoppingCart&&(this.shoppingCart.textContent=`${this.shoppingCartStorage.length}`),this.shoppingCartStorage.length>0?null===(o=this.shoppingCart)||void 0===o||o.classList.add("active"):null===(l=this.shoppingCart)||void 0===l||l.classList.remove("active"),i("shoppingCart",this.shoppingCartStorage))}},this.search=new class{getSearchField(e){this.searchField=document.querySelector(".header__search"),this.searchFieldResetBtn=document.querySelector(".reset-btn"),this.searchField&&(this.searchField.value=e)}filterData(e){var t;const s=null===(t=this.searchField)||void 0===t?void 0:t.value;let r=e,a="";return s&&(a=s.toLowerCase(),r=e.filter((e=>e.model.toLowerCase().includes(a)))),i("searchFieldValue",a),r}},this.filters=new class{constructor(){this.brandFilter=new v,this.colorFilter=new y,this.storageFilter=new f,this.popularityFilter=new b,this.yearFilter=new F,this.priceFilter=new C,this.quantityFilter=new q}generateFilters(e,t,s,r,a,i,n){this.brandFilter.generateFilter(e),this.colorFilter.generateFilter(t),this.storageFilter.generateFilter(s),this.popularityFilter.generateFilter(r),this.yearFilter.generateFilter(a),this.priceFilter.generateFilter(i),this.quantityFilter.generateFilter(n)}},this.resetButtons=new class{getButtons(){this.filtersResetBtn=document.querySelector(".filters__reset-btn--filters"),this.totalResetBtn=document.querySelector(".filters__reset-btn--total")}updateLocalStorage(e){e.target===this.totalResetBtn&&N.forEach((e=>{e.match(/sortingOption|savedItems|shoppingCart/)&&o(e)})),N.forEach((e=>{e.match(/sortingOption|savedItems|shoppingCart/)||o(e)}))}},this.filtersKeys=[],this.relevantGoods=r}init(e,t,s,r,a,i,n,o,l,c){this.navMenu.initMenu(t),this.resetButtons.getButtons(),this.search.getSearchField(s),this.sorting.generateSorting(e),this.filters.generateFilters(r,a,i,n,o,l,c),this.filtersKeys=Object.keys(this.filters),this.updateGoodsAppearance(),this.handleEvents()}handleEvents(){var e,t,s,r,a,i,n,o,l,c,d,u,h,p,g,m;null===(e=this.cards.cardsContainer)||void 0===e||e.addEventListener("click",(e=>this.navMenu.handleCardClick(e))),null===(t=this.sorting.sortingContainer)||void 0===t||t.addEventListener("click",(e=>{this.sorting.handleSortingClick(e),this.updateGoodsAppearance()})),null===(s=this.search.searchField)||void 0===s||s.addEventListener("input",(()=>{this.updateGoodsAppearance()})),null===(r=this.search.searchFieldResetBtn)||void 0===r||r.addEventListener("click",(()=>{const e=this.search.searchField;e&&(e.value=""),this.updateGoodsAppearance()})),null===(a=this.filters.brandFilter.container)||void 0===a||a.addEventListener("click",(e=>{this.filters.brandFilter.handleClick(e),this.updateGoodsAppearance()})),null===(i=this.filters.colorFilter.container)||void 0===i||i.addEventListener("click",(e=>{this.filters.colorFilter.handleClick(e),this.updateGoodsAppearance()})),null===(n=this.filters.storageFilter.container)||void 0===n||n.addEventListener("click",(e=>{this.filters.storageFilter.handleClick(e),this.updateGoodsAppearance()})),null===(o=this.filters.popularityFilter.container)||void 0===o||o.addEventListener("click",(e=>{this.filters.popularityFilter.handleClick(e),this.updateGoodsAppearance()})),null===(c=null===(l=this.filters.yearFilter.yearSlider)||void 0===l?void 0:l.noUiSlider)||void 0===c||c.on("end",(()=>{this.filters.yearFilter.handleDrag(),this.updateGoodsAppearance()})),null===(u=null===(d=this.filters.priceFilter.priceSlider)||void 0===d?void 0:d.noUiSlider)||void 0===u||u.on("end",(()=>{this.filters.priceFilter.handleDrag(),this.updateGoodsAppearance()})),null===(p=null===(h=this.filters.quantityFilter.quantitySlider)||void 0===h?void 0:h.noUiSlider)||void 0===p||p.on("end",(()=>{this.filters.quantityFilter.handleDrag(),this.updateGoodsAppearance()})),null===(g=this.resetButtons.filtersResetBtn)||void 0===g||g.addEventListener("click",(e=>{const t=this.search.searchField;t&&(t.value=""),this.resetButtons.updateLocalStorage(e),this.filtersKeys.forEach((e=>{const t=this.filters[e];"reset"in t&&t.reset()})),this.updateGoodsAppearance()})),null===(m=this.resetButtons.totalResetBtn)||void 0===m||m.addEventListener("click",(e=>{this.resetButtons.updateLocalStorage(e),document.location.reload()}))}getRelevantGoods(){this.relevantGoods=this.search.filterData(r),this.relevantGoods=this.sorting.sortGoods(this.relevantGoods),this.filtersKeys.forEach((e=>{const t=this.filters[e];"filterData"in t&&(this.relevantGoods=t.filterData(this.relevantGoods))}))}updateGoodsAppearance(){this.getRelevantGoods(),this.cards.generateCards(this.relevantGoods)}}).init(k,O,V,L,E,w,I,A,x,G),console.log('\nThanks for taking the time to check my work!\n\nRolling Scopes School\nStage 2 online-store task\n\nSelf-evaluation by Andrew Karev:\n\n✓ Главная страница содержит все товары магазина а также фильтры, строку поиска, поле для сортировки. Выполняются требования к вёрстке +10\n✓ Карточка товара содержит его изображение, название, наименование брэнда производителя, количество данного товара на складе, год выхода на рынок, цвет, стоимость, находится ли товар в корзине +10\n✓ Добавление товаров в корзину +20\n    [+] кликая по карточке с товаром или по кнопке на нем, товар можно добавлять в корзину или удалять. Карточки добавленных в корзину товаров внешне отличаются от остальных +10\n    [+] на странице отображается количество добавленных в корзину товаров. При попытке добавить в корзину больше 20 товаров, выводится всплывающее уведомление с текстом "Sorry. But there are no free slots left in the cart :(" +10\n✓ Сортировка +20\n    Сортируются только те товары, которые в данный момент отображаются на странице\n    [+] сортировка товаров по названию в возрастающем и убывающем порядке +10\n    [+] сортировка товаров по году их выхода на рынок в возрастающем и убывающем порядке +10\n✓ Фильтры в указанном диапазоне от и до +30\n    [+] фильтры по количеству +10\n    [+] фильтры по году выпуска на рынок +10\n    [+] для фильтрации в указанном диапазоне используется range slider с двумя ползунками. При перемещении ползунков отображается их текущее значение, разный цвет слайдера до и после ползунка +10\n✓ Фильтры по значению +30\n    Выбранные фильтры выделяются стилем.\n    [+] фильтры по производителю +5\n    [+] фильтры по цвету +5\n    [+] фильтры по размеру памяти +5\n    [+] можно отобразить только популярные товары +5\n    [+] можно отфильтровать товары по нескольким фильтрам одного типа +10\n✓ Можно отфильтровать товары по нескольким фильтрам разного типа +20\n  Если товаров, соответствующих всем выбранным фильтрам нет, на странице выводится уведомление в человекочитаемом формате, например, "Sorry, no matches found ¯\\_(ツ)_/¯"\n✓ Сброс фильтров +20\n    [+] есть кнопка reset для сброса фильтров +10\n    Кнопка reset сбрасывает только фильтры, не влияя на порядок сортировки или товары, добавленные в избранное.\n    После использования кнопки reset фильтры остаются работоспособными\n    [+] при сбросе фильтров кнопкой reset, ползунки range slider сдвигаются к краям, значения ползунков возвращаются к первоначальным, range slider закрашивается одним цветом +10\n✓ Сохранение настроек в local storage +30\n  выбранные пользователем\n    [+] фильтры\n    [+] порядок сортировки\n    [+] добавленные в избранное товары\n  сохраняются при перезагрузке страницы.\n    [+] Есть кнопка сброса настроек \'clear all\', которая очищает local storage\n✓ Поиск +30\n    [+] при открытии приложения курсор находится в поле поиска +2\n    [+] автозаполнение поля поиска отключено (нет выпадающего списка с предыдущими запросами) +2\n    [+] есть placeholder +2\n    [+] в поле поиска есть крестик, позволяющий очистить поле поиска +2\n    [+] если нет совпадения последовательности букв в поисковом запросе с названием товара, выводится уведомление в человекочитаемом формате, например "Sorry, no matches found ¯\\_(ツ)_/¯" +2\n    [+] при вводе поискового запроса на странице остаются только те товары, в которых есть указанные в поиске буквы в указанном порядке. При этом не обязательно, чтобы буквы были в начале слова. Регистр символов при поиске не учитывается +10\n    Поиск ведётся только среди товаров, которые в данный момент отображаются на странице.\n    [+] если очистить поле поиска, на странице отображаются товары, соответствующие всем выбранным фильтрам и настройкам сортировки +10\n\nTotal score: 220/200 points\n')}},s={};function r(e){var a=s[e];if(void 0!==a)return a.exports;var i=s[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=function(t,s,a,i){if(!s){var n=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],i=e[d][2];for(var o=!0,l=0;l<s.length;l++)(!1&i||n>=i)&&Object.keys(r.O).every((function(e){return r.O[e](s[l])}))?s.splice(l--,1):(o=!1,i<n&&(n=i));if(o){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,a,i]},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={179:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,i,n=s[0],o=s[1],l=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(l)var d=l(r)}for(t&&t(s);c<n.length;c++)i=n[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},s=self.webpackChunk=self.webpackChunk||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var a=r.O(void 0,[344],(function(){return r(551)}));a=r.O(a)}();
//# sourceMappingURL=main.2dc9552bfcca07243c91.js.map